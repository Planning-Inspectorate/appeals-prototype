<li>
  <h2 class="app-task-list__section">
    <span class="app-task-list__section-number">2. </span> Upload documents
    {% if data['upload-documents-completed'] == 'true' %}
      {{ govukTag({
        html: 'Completed'
      }) }}
    {% elif data['upload-documents-started'] == 'true' %}
      {{ govukTag({
        html: 'In progress',
        classes: 'govuk-tag--blue'
      }) }}
    {% else %}
      {{ govukTag({
        html: 'Not started',
        classes: 'govuk-tag--grey'
      }) }}
    {% endif %}
  </h2>
  {{ govukSummaryList({
    classes: 'govuk-!-margin-bottom-9',
    rows: [
      {
        key: {
          html: 'Application form'
        },
        value: {
          html: data['application'] | join('<br>') if data['application'] else 'application.pdf'
        }
        if data['application-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'upload-documents/application?cya=true',
              html: 'Change'
            }
            if data['application-complete'] else
            {
              href: 'upload-documents/application',
              html: 'Upload'
            }
          ]
        }
      },
      {
        key: {
          html: 'Development description correct'
        },
        value: {
          html: data['application-desc-correct']
        }
        if data['application-desc-correct-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'upload-documents/application-desc-correct?cya=true',
              html: 'Change'
            }
            if data['application-desc-correct-complete'] else
            {
              href: 'upload-documents/application-desc-correct',
              html: 'Answer'
            }
          ]
        }
      },
      {
        key: {
          html: 'Description of development'
        },
        value: {
          html: data['description-detail'] if data['description-detail'] else '(Most recent description of development here)'
        }
        if data['description-detail-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'upload-documents/description-of-development?cya=true',
              html: 'Change'
            }
            if data['description-detail-complete'] else
            {
              href: 'upload-documents/description-of-development',
              html: 'Answer'
            }
          ]
        }
      },
      {
        key: {
          html: 'Plans, drawings and supporting documents'
        },
        value: {
          html: data['plans'] | join('<br>') if data['plans'] else 'plans.pdf'
        }
        if data['plans-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'upload-documents/plans?cya=true',
              html: 'Change'
            }
            if data['plans-complete'] else
            {
              href: 'upload-documents/plans',
              html: 'Upload'
            }
          ]
        }
      },
      {
        key: {
          html: 'Separate ownership certificate in application'
        },
        value: {
          html: data['ownership-certificate-check'] or 'No'
        }
        if data['ownership-certificate-check-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'upload-documents/ownership-certificate-check?cya=true',
              html: 'Change'
            }
            if data['ownership-certificate-check-complete'] else
            {
              href: 'upload-documents/ownership-certificate-check',
              html: 'Answer'
            }
          ]
        }
      },
      {
        key: {
          html: 'Separate ownership certificate'
        },
        value: {
          html: data['ownership-certificate'] | join('<br>') if data['ownership-certificate'] else 'ownership-certificate.pdf'
        }
        if data['ownership-certificate-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'upload-documents/ownership-certificate?cya=true',
              html: 'Change'
            }
            if data['ownership-certificate-complete'] else
            {
              href: 'upload-documents/ownership-certificate',
              html: 'Upload'
            }
          ]
        }
      } if data['ownership-certificate-check'] == 'Yes',
      {
        key: {
          html: 'Design and access statement in application'
        },
        value: {
          html: data['design-access-check'] or 'No'
        }
        if data['design-access-check-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'upload-documents/design-access-check?cya=true',
              html: 'Change'
            }
            if data['design-access-check-complete'] else
            {
              href: 'upload-documents/design-access-check',
              html: 'Answer'
            }
          ]
        }
      },
      {
        key: {
          html: 'Design and access statement'
        },
        value: {
          html: data['design-access'] | join('<br>') if data['design-access'] else 'design-access.pdf'
        }
        if data['design-access-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'upload-documents/design-access?cya=true',
              html: 'Change'
            }
            if data['design-access-complete'] else
            {
              href: 'upload-documents/design-access',
              html: 'Upload'
            }
          ]
        }
      } if data['design-access-check'] == 'Yes',
      {
        key: {
          html: 'Decision letter'
        },
        value: {
          html: data['decision-letter'] | join('<br>') if data['decision-letter'] else 'decision-letter.pdf'
        }
        if data['decision-letter-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'upload-documents/decision-letter?cya=true',
              html: 'Change'
            }
            if data['decision-letter-complete'] else
            {
              href: 'upload-documents/decision-letter',
              html: 'Upload'
            }
          ]
        }
      },
      {
        key: {
          html: 'Appeal statement'
        },
        value: {
          html: data['appeal-statement'] | join('<br>') if data['appeal-statement'] else 'appeal-statement.pdf'
        }
        if data['appeal-statement-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'upload-documents/appeal-statement?cya=true',
              html: 'Change'
            }
            if data['appeal-statement-complete'] else
            {
              href: 'upload-documents/appeal-statement',
              html: 'Upload'
            }
          ]
        }
      },
      {
        key: {
          html: 'Draft statement of common ground'
        },
        value: {
          html: data['common-ground'] | join('<br>') if data['common-ground'] else 'common-ground.pdf'
        }
        if data['common-ground-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'upload-documents/common-ground?cya=true',
              html: 'Change'
            }
            if data['common-ground-complete'] else
            {
              href: 'upload-documents/common-ground',
              html: 'Upload'
            }
          ]
        }
      } if data['procedure'] == 'Inquiry' or data['procedure'] == 'Hearing',
      {
        key: {
          html: 'Add new plans or drawings'
        },
        value: {
          html: data['new-plans-check'] or 'No'
        }
        if data['new-plans-check-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'upload-documents/new-plans-check?cya=true',
              html: 'Change'
            }
            if data['new-plans-check-complete'] else
            {
              href: 'upload-documents/new-plans-check',
              html: 'Answer'
            }
          ]
        }
      },
      {
        key: {
          html: 'New plans or drawings'
        },
        value: {
          html: data['new-plans'] | join('<br>') if data['new-plans'] else 'new-plans.pdf'
        }
        if data['new-plans-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'upload-documents/new-plans?cya=true',
              html: 'Change'
            }
            if data['new-plans-complete'] else
            {
              href: 'upload-documents/new-plans',
              html: 'Upload'
            }
          ]
        }
      } if data['new-plans-check'] == 'Yes',
      {
        key: {
          html: 'Add planning obligation'
        },
        value: {
          html: data['planning-obligation-check'] or 'No'
        }
        if data['planning-obligation-check-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'upload-documents/planning-obligation-check?cya=true',
              html: 'Change'
            }
            if data['planning-obligation-check-complete'] else
            {
              href: 'upload-documents/planning-obligation-check',
              html: 'Answer'
            }
          ]
        }
      },
      {
        key: {
          html: 'Planning obligation status'
        },
        value: {
          html: data['planning-obligation-status'] or 'Not started yet'
        }
        if data['planning-obligation-status-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'upload-documents/planning-obligation-status?cya=true',
              html: 'Change'
            }
            if data['planning-obligation-status-complete'] else
            {
              href: 'upload-documents/planning-obligation-status',
              html: 'Answer'
            }
          ]
        }
      } if data['planning-obligation-check'] == 'Yes',
      {
        key: {
          html: 'Draft planning obligation' if data['planning-obligation-status'] == 'In draft' else 'Planning obligation'
        },
        value: {
          html: data['planning-obligation'] | join('<br>') if data['planning-obligation'] else 'planning-obligation.pdf'
        }
        if data['planning-obligation-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'upload-documents/planning-obligation?cya=true',
              html: 'Change'
            }
            if data['planning-obligation-complete'] else
            {
              href: 'upload-documents/planning-obligation',
              html: 'Upload'
            }
          ]
        }
      } if data['planning-obligation-check'] == 'Yes' and (data['planning-obligation-status'] == 'Finalised and ready to submit' or data['planning-obligation-status'] == 'In draft'),
      {
        key: {
          html: 'Add new supporting documents'
        },
        value: {
          html: data['other-check'] or 'No'
        }
        if data['other-check-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'upload-documents/other-check?cya=true',
              html: 'Change'
            }
            if data['other-check-complete'] else
            {
              href: 'upload-documents/other-check',
              html: 'Answer'
            }
          ]
        }
      },
      {
        key: {
          html: 'New supporting documents'
        },
        value: {
          html: data['other'] | join('<br>') if data['other'] else 'other.pdf'
        }
        if data['other-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'upload-documents/other?cya=true',
              html: 'Change'
            }
            if data['other-complete'] else
            {
              href: 'upload-documents/other',
              html: 'Upload'
            }
          ]
        }
      } if data['other-check'] == 'Yes'
    ]
  }) }}
</li>
