{% extends '_layouts/layout-pins.html' %}

{% set nav = true %}
{% set title = 'Planning appeals' %}

{% block backLink %}
  {{ govukBackLink({
    html: 'Back to all prototypes',
    href: '/#manage'
  }) }}
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <span class="govuk-caption-l">
      Manage LPA appeals
    </span>
    <h1 class="govuk-heading-l">
      {{ title }}
    </h1>

    <section class="govuk-!-margin-bottom-6">

      {% set version = "4" %}
      <h2 class="govuk-heading-m">
        Version {{version}}
        {{ govukTag({
          classes: 'govuk-tag--blue govuk-!-margin-left-2',
          text: 'Researched'
        }) }}
      </h2>

      <p>
        Researched January 2023<br>
        <a href="https://pins-ds.atlassian.net/l/cp/m5xUUVAn" class="govuk-link">
          Confluence user research notes
        </a>
      </p>

      <p class="govuk-!-margin-bottom-2">Changes:</p>
      <ul class="govuk-list govuk-list--bullet">
        <li>
          new tab for submitted appeals
        </li>
        <li>
          new tab for received appeals
        </li>
      </ul>

      <h3 class="govuk-heading-s">
        Planning appeals
      </h3>

      {{ govukButton({
        html: 'View full dashboard',
        href: 'v4/?action=&questionnaire=complete&submitted-appeals=yes&current-appeals=yes&received-appeals=yes',
        isStartButton: true
      }) }}

      <!-- <p class="govuk-!-margin-bottom-2">Different states:</p>
      <ul class="govuk-list govuk-list--bullet">

        <li>
          <a href="v4/index-simple?action=&questionnaire=&submitted-appeals=yes&current-appeals=yes&received-appeals=yes">
            No extra tabs (MVP)
          </a>
        </li>

        <li>
          <a href="v4/?action=&questionnaire=&submitted-appeals=yes&current-appeals=yes&received-appeals=yes">
            Appeals to action and received appeals
          </a>
        </li>

        <li>
          <a href="v4/?no-appeals=&questionnaire=&current-appeals=yes&received-appeals=no">
            Appeals to action, no received appeals
          </a>
        </li>

        <li>
          <a href="v4/?action=&submitted-appeals=yes&questionnaire=&received-appeals=yes&current-appeals=yes#submitted-appeals">
            Submitted appeals
          </a>
        </li>

        <li>
          <a href="v4/?action=&submitted-appeals=no&questionnaire=&received-appeals=yes&current-appeals=yes#submitted-appeals">
            No Submitted appeals
          </a>
        </li>

        <li>
          <a href="v4/?no-appeals=true">
            Empty dashboard, no appeals
          </a>
        </li>
      </ul> -->

      <!-- <details class="govuk-details" data-module="govuk-details">
        <summary class="govuk-details__summary">
          <span class="govuk-details__summary-text">
            Alternative version using 3 tabs
          </span>
        </summary>
        <div class="govuk-details__text">

          <p class="govuk-!-margin-bottom-2">Different states:</p>
          <ul class="govuk-list govuk-list--bullet">

            <li>
              <a href="v4/index-alt?action=&questionnaire=&submitted-appeals=yes&current-appeals=yes&received-appeals=yes">
                Appeals to action and received appeals
              </a>
            </li>

            <li>
              <a href="v4/index-alt?no-appeals=&questionnaire=&current-appeals=yes&received-appeals=no">
                Appeals to action, no received appeals
              </a>
            </li>

            <li>
              <a href="v4/index-alt?action=&submitted-appeals=yes&questionnaire=&received-appeals=yes&current-appeals=yes#submitted-appeals">
                Submitted appeals
              </a>
            </li>

            <li>
              <a href="v4/index-alt?action=&submitted-appeals=no&questionnaire=&received-appeals=yes&current-appeals=yes#submitted-appeals">
                No Submitted appeals
              </a>
            </li>

            <li>
              <a href="v4/index-alt?no-appeals=true">
                Empty dashboard, no appeals
              </a>
            </li>
          </ul>

        </div>
      </details> -->

    </section>

    {% set v3HTML %}

      {% set version = "3" %}

      <p>
        Researched January 2023<br>
        <a href="https://pins-ds.atlassian.net/wiki/spaces/AAPDS/pages/1088356353" class="govuk-link">
          Confluence user research notes
        </a>
      </p>

      <p class="govuk-!-margin-bottom-2">Changes:</p>
      <ul class="govuk-list govuk-list--bullet">
        <li>addition of notify interested parties journey</li>
        <li>adding metadata</li>
        <li>adding <a href='https://design-system.service.gov.uk/components/notification-banner/' class='govuk-link'>notification banners</a></li>
        <li>adding appeal notice</li>
        <li>content updates</li>
        <li>anchor links from notification banners</li>
      </ul>

      {{ govukButton({
        html: 'View prototype',
        href: 'v'+version+'/?action=',
        isStartButton: true
      }) }}

    {% endset -%}

    {% set v2HTML %}

      {% set version = "2" %}

      <p>
        Researched December 2022<br>
        <a href="https://pins-ds.atlassian.net/wiki/spaces/AAPDS/pages/1074954255/Uganda+Usability+Testing+-+Discussion+guide+draft" class="govuk-link">
          Discussion guide for research
        </a><br>
        <a href="https://miro.com/app/board/uXjVP-SH1uo=/" class="govuk-link">
          Miro board for UR feedback
        </a>
      </p>

      <p class="govuk-!-margin-bottom-2">Changes:</p>
      <ul class="govuk-list govuk-list--bullet">
        <li>moved the work to the new prototype (<a href="https://pins-appeals.herokuapp.com/lpa/v1/no-appeals" class="govuk-link govuk-link--no-visited-state" title="Link to version 1">see version 1</a>)</li>
        <li>changed to one link per task</li>
        <li>appeal statement link not shown till questionnaire is done</li>
        <li>completed questionnaire drops to the foot of the list with statement action</li>
        <li>completed final comments appeal in the 2nd row disappears</li>
        <li>completed statetment appeal in the 5th row disappears</li>
      </ul>

      {{ govukButton({
        html: 'View prototype',
        href: 'v'+version+'/',
        classes: "govuk-button--secondary",
        isStartButton: false
      }) }}

    {% endset -%}

    {{ govukAccordion({
      id: 'previous',
      classes: 'govuk-!-margin-top-9',
      items: [

        {
          heading: {
            html: 'Version 3 <strong class="govuk-tag govuk-tag--blue govuk-!-margin-left-2">Researched</strong>'
          },
          content: {
            html: v3HTML
          }
        },
        {
          heading: {
            html: 'Version 2 <strong class="govuk-tag govuk-tag--blue govuk-!-margin-left-2">Researched</strong>'
          },
          content: {
            html: v2HTML
          }
        }
      ]
    }) }}



    {% set lpaForm %}
      <form method="get" action="v{{version}}/">

        {{ govukInput({
          id: 'dashboard-lpa',
          name: 'dashboard-lpa',
          value: data['dashboard-lpa'],
          label: {
            html: 'LPA&rsquo;s name'
          },
          spellcheck: false
        }) }}

        {{ govukInput({
          id: 'lpa-email',
          name: 'lpa-email',
          value: data['lpa-email'],
          label: {
            html: 'LPA&rsquo;s email'
          },
          spellcheck: false
        }) }}

        {{ govukInput({
          id: 'user-account',
          name: 'users[0][email]',
          value: data['users']['0']['email'],
          label: {
            html: 'Admin account email'
          },
          spellcheck: false
        }) }}

        {{ govukButton({
          text: 'Add to URL',
          classes: 'govuk-!-margin-bottom-0'
        }) }}

      </form>
    {% endset -%}

    {{ govukDetails({
      summaryHtml: 'Change LPA details',
      html: lpaForm
    }) }}

  </div>
</div>
{% endblock %}
