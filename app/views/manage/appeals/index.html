{% extends '_layouts/layout-pins.html' %}

{% set nav = true %}
{% set title = 'Planning appeals' %}

{% block backLink %}
  {{ govukBackLink({
    html: 'Back to all prototypes',
    href: '/#manage'
  }) }}
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <span class="govuk-caption-l">
      Manage LPA appeals
    </span>
    <h1 class="govuk-heading-l">
      {{ title }}
    </h1>

    <section class="govuk-!-margin-bottom-6">

      {% set version = "7" %}
      <h2 class="govuk-heading-m">
        Version {{version}}
        {{ govukTag({
          classes: 'govuk-tag--yellow govuk-!-margin-left-2',
          text: 'In progress'
        }) }}
      </h2>

      <!-- <p>
        Researched January 2023<br>
        <a href="https://pins-ds.atlassian.net/l/cp/m5xUUVAn" class="govuk-link">
          Confluence user research notes
        </a>
      </p> -->

      <p class="govuk-!-margin-bottom-2">Changes:</p>
      <ul class="govuk-list govuk-list--bullet">
        <li>
          appeals with submitted questionnaires drop down the main list
        </li>
        <!-- <li>
          added decided appeals
        </li> -->
      </ul>

      {{ govukButton({
        html: 'View full dashboard',
        href: 'v7/?action=&questionnaire=due&questionnaire-banner=no&current-appeals=yes&submitted-appeals=yes',
        isStartButton: true
      }) }}

      {% set v6HTML %}

        {% set version = "6" %}

        <!-- <p>
          Researched January 2023<br>
          <a href="https://pins-ds.atlassian.net/l/cp/m5xUUVAn" class="govuk-link">
            Confluence user research notes
          </a>
        </p> -->

        <p class="govuk-!-margin-bottom-2">Changes:</p>
        <ul class="govuk-list govuk-list--bullet">
          <li>
            new appeals in main table
          </li>
          <li>
            added decided appeals as a new view
          </li>
        </ul>

        {{ govukButton({
          html: 'View full dashboard',
          href: 'v6/?action=&questionnaire=due&questionnaire-banner=no&current-appeals=yes&submitted-appeals=yes',
          isStartButton: true
        }) }}

      {% endset -%}

      {% set v5HTML %}

        {% set version = "5" %}

        <!-- <p>
          Researched January 2023<br>
          <a href="https://pins-ds.atlassian.net/l/cp/m5xUUVAn" class="govuk-link">
            Confluence user research notes
          </a>
        </p> -->

        <p class="govuk-!-margin-bottom-2">Changes:</p>
        <ul class="govuk-list govuk-list--bullet">
          <li>
            new appeals in details component
          </li>
          <li>
            content updates
          </li>
        </ul>

        {{ govukButton({
          html: 'View full dashboard',
          href: 'v5/?action=&questionnaire=complete&submitted-appeals=yes&current-appeals=yes&new-appeals=yes',
          isStartButton: true
        }) }}

      {% endset -%}

      {% set v4HTML %}

        {% set version = "4" %}
        <h2 class="govuk-heading-m">
          Version {{version}}
          {{ govukTag({
            classes: 'govuk-tag--blue govuk-!-margin-left-2',
            text: 'Researched'
          }) }}
        </h2>

        <p>
          Researched January 2023<br>
          <a href="https://pins-ds.atlassian.net/l/cp/m5xUUVAn" class="govuk-link">
            Confluence user research notes
          </a>
        </p>

        <p class="govuk-!-margin-bottom-2">Changes:</p>
        <ul class="govuk-list govuk-list--bullet">
          <li>
            new tab for submitted appeals
          </li>
          <li>
            new tab for received appeals
          </li>
        </ul>

        {{ govukButton({
          html: 'View full dashboard',
          href: 'v4/?action=&questionnaire=complete&submitted-appeals=yes&current-appeals=yes&received-appeals=yes',
          isStartButton: true
        }) }}

    {% endset -%}

  </section>

    {% set v3HTML %}

      {% set version = "3" %}

      <p>
        Researched January 2023<br>
        <a href="https://pins-ds.atlassian.net/wiki/spaces/AAPDS/pages/1088356353" class="govuk-link">
          Confluence user research notes
        </a>
      </p>

      <p class="govuk-!-margin-bottom-2">Changes:</p>
      <ul class="govuk-list govuk-list--bullet">
        <li>addition of notify interested parties journey</li>
        <li>adding metadata</li>
        <li>adding <a href='https://design-system.service.gov.uk/components/notification-banner/' class='govuk-link'>notification banners</a></li>
        <li>adding appeal notice</li>
        <li>content updates</li>
        <li>anchor links from notification banners</li>
      </ul>

      {{ govukButton({
        html: 'View prototype',
        href: 'v'+version+'/?action=',
        isStartButton: true
      }) }}

    {% endset -%}

    {% set v2HTML %}

      {% set version = "2" %}

      <p>
        Researched December 2022<br>
        <a href="https://pins-ds.atlassian.net/wiki/spaces/AAPDS/pages/1074954255/Uganda+Usability+Testing+-+Discussion+guide+draft" class="govuk-link">
          Discussion guide for research
        </a><br>
        <a href="https://miro.com/app/board/uXjVP-SH1uo=/" class="govuk-link">
          Miro board for UR feedback
        </a>
      </p>

      <p class="govuk-!-margin-bottom-2">Changes:</p>
      <ul class="govuk-list govuk-list--bullet">
        <li>moved the work to the new prototype (<a href="https://pins-appeals.herokuapp.com/lpa/v1/no-appeals" class="govuk-link govuk-link--no-visited-state" title="Link to version 1">see version 1</a>)</li>
        <li>changed to one link per task</li>
        <li>appeal statement link not shown till questionnaire is done</li>
        <li>completed questionnaire drops to the foot of the list with statement action</li>
        <li>completed final comments appeal in the 2nd row disappears</li>
        <li>completed statetment appeal in the 5th row disappears</li>
      </ul>

      {{ govukButton({
        html: 'View prototype',
        href: 'v'+version+'/',
        classes: "govuk-button--secondary",
        isStartButton: false
      }) }}

    {% endset -%}

    {{ govukAccordion({
      id: 'previous',
      classes: 'govuk-!-margin-top-9',
      items: [

        {
          heading: {
            html: 'Version 6 <strong class="govuk-tag govuk-tag--green govuk-!-margin-left-2">Ready for research</strong>'
          },
          content: {
            html: v6HTML
          }
        },
        {
          heading: {
            html: 'Version 5 <strong class="govuk-tag govuk-tag--green govuk-!-margin-left-2">Ready for research</strong>'
          },
          content: {
            html: v5HTML
          }
        },
        {
          heading: {
            html: 'Version 4 <strong class="govuk-tag govuk-tag--blue govuk-!-margin-left-2">Researched</strong>'
          },
          content: {
            html: v4HTML
          }
        },
        {
          heading: {
            html: 'Version 3 <strong class="govuk-tag govuk-tag--blue govuk-!-margin-left-2">Researched</strong>'
          },
          content: {
            html: v3HTML
          }
        },
        {
          heading: {
            html: 'Version 2 <strong class="govuk-tag govuk-tag--blue govuk-!-margin-left-2">Researched</strong>'
          },
          content: {
            html: v2HTML
          }
        }
      ]
    }) }}



    {% set lpaForm %}
      <form method="get" action="v{{version}}/">

        {{ govukInput({
          id: 'dashboard-lpa',
          name: 'dashboard-lpa',
          value: data['dashboard-lpa'],
          label: {
            html: 'LPA&rsquo;s name'
          },
          spellcheck: false
        }) }}

        {{ govukInput({
          id: 'lpa-email',
          name: 'lpa-email',
          value: data['lpa-email'],
          label: {
            html: 'LPA&rsquo;s email'
          },
          spellcheck: false
        }) }}

        {{ govukInput({
          id: 'user-account',
          name: 'users[0][email]',
          value: data['users']['0']['email'],
          label: {
            html: 'Admin account email'
          },
          spellcheck: false
        }) }}

        {{ govukButton({
          text: 'Add to URL',
          classes: 'govuk-!-margin-bottom-0'
        }) }}

      </form>
    {% endset -%}

    {{ govukDetails({
      summaryHtml: 'Change LPA details',
      html: lpaForm
    }) }}

  </div>
</div>
{% endblock %}
