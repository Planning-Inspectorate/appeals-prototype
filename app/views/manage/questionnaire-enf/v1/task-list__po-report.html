<!-- <p class="govuk-body-l">
Report {{ data['report-upload-complete'] }} <br>
Policies {{ data['policies-complete'] }} <br>
Emerging plan {{ data['emerging-plan-complete'] }} <br>
Supplemetary docs {{ data['supplementary-documents-complete'] }} <br>
Community infrastructure {{ data['community-infrastructure-complete'] }} <br>
PO report done = {{ data['po-report-completed'] }}
</p> -->

<li>
  <h2 class="app-task-list__section">
    <span class="app-task-list__section-number">4. </span>
    {% if data['non-determination'] == 'true' %}
      What your decision notice would have said and relevant policies
    {% else %}
      Planning officer’s report and supporting documents
    {% endif %}

    {% if data['po-report-completed'] == 'true' %}
      {{ govukTag({
        html: 'Completed'
      }) }}
    {% elif data['po-report-started'] == 'true' %}
      {{ govukTag({
        html: 'In progress',
        classes: 'govuk-tag--blue'
      }) }}
    {% else %}
      {{ govukTag({
        html: 'Not started',
        classes: 'govuk-tag--grey'
      }) }}
    {% endif %}
  </h2>

  {% set levyDate = (data['community-infrastructure-date-day'] or '1') +' '+ (data['community-infrastructure-date-month'] | formatMonth or 'July') +' '+ (data['community-infrastructure-date-year'] or '2024') %}
  {{ govukSummaryList({
    classes: 'govuk-!-margin-bottom-9',
    rows: [
      {
        key: {
          html: 'Do you have a planning officer\'s report?'
        },
        value: {
          html: data['report-check'] or 'Yes'
        }
        if data['report-check-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/report-check?cya=true',
              html: 'Change'
            }
            if data['report-check-complete'] else
            {
              href: 'po-report/report-check',
              html: 'Answer'
            }
          ]
        }
      },
      {
        key: {
          html: 'Upload what your decision notice would have said' if data['non-determination'] == 'true' else 'Upload planning officer’s report'
        },
        value: {
          html: data['report-upload'] or 'report.pdf'
        }
        if data['report-upload-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/report-upload?cya=true',
              html: 'Change'
            }
            if data['report-upload-complete'] else
            {
              href: 'po-report/report-upload',
              html: 'Upload'
            }
          ]
        }
      }if data['report-check'] == 'Yes',
      {
        key: {
          html: 'Do you have any relevant policies from your statutory development plan?'
        },
        value: {
          html: data['policies-check'] or 'Yes'
        }
        if data['policies-check-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/policies-check?cya=true',
              html: 'Change'
            }
            if data['policies-check-complete'] else
            {
              href: 'po-report/policies-check',
              html: 'Answer'
            }
          ]
        }
      },
      {
        key: {
          html: 'Upload relevant policies from statutory development plan'
        },
        value: {
          html: data['policies-upload'] or 'policies.pdf'
        }
        if data['policies-upload-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/policies-upload?cya=true',
              html: 'Change'
            }
            if data['policies-upload-complete'] else
            {
              href: 'po-report/policies-upload',
              html: 'Upload'
            }
          ]
        }
      }if data['policies-check'] == 'Yes',
      {
        key: {
          html: 'Do you have any other relevant policies to upload?'
        },
        value: {
          html: data['other-policies-check'] or 'No'
        }
        if data['other-policies-check-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/other-policies-check?cya=true',
              html: 'Change'
            }
            if data['other-policies-check-complete'] else
            {
              href: 'po-report/other-policies-check',
              html: 'Answer'
            }
          ]
        }
      },
      {
        key: {
          html: 'Upload any other relevant policies'
        },
        value: {
          html: data['other-policies-upload'] or 'other-policies.pdf'
        }
        if data['other-policies-upload-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/other-policies-upload?cya=true',
              html: 'Change'
            }
            if data['other-policies-upload-complete'] else
            {
              href: 'po-report/other-policies-upload',
              html: 'Upload'
            }
          ]
        }
      } if data['other-policies-check'] == 'Yes',
      {
        key: {
          html: 'Did any supplementary planning documents inform the outcome of the planning application?'
        },
        value: {
          html: data['supplementary-check'] or 'No'
        }
        if data['supplementary-check-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/supplementary-check?cya=true',
              html: 'Change'
            }
            if data['supplementary-check-complete'] else
            {
              href: 'po-report/supplementary-check',
              html: 'Answer'
            }
          ]
        }
      },
      {
        key: {
          html: 'Supplementary planning documents'
        },
        value: {
          html: data['supplementary-upload'] or 'supplementary.pdf'
        }
        if data['supplementary-upload-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/supplementary-upload?cya=true',
              html: 'Change'
            }
            if data['supplementary-upload-complete'] else
            {
              href: 'po-report/supplementary-upload',
              html: 'Upload'
            }
          ]
        }
      } if data['supplementary-check'] == 'Yes',
      {
        key: {
          html: 'Do you have a community infrastructure levy?'
        },
        value: {
          html: data['community-infrastructure-check'] or 'No'
        }
        if data['community-infrastructure-check-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/community-infrastructure-check?cya=true',
              html: 'Change'
            }
            if data['community-infrastructure-check-complete'] else
            {
              href: 'po-report/community-infrastructure-check',
              html: 'Answer'
            }
          ]
        }
      },
      {
        key: {
          html: 'Community infrastructure levy'
        },
        value: {
          html: data['community-infrastructure-upload'] or 'community-infrastructure.pdf'
        }
        if data['community-infrastructure-upload-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/community-infrastructure-upload?cya=true',
              html: 'Change'
            }
            if data['community-infrastructure-upload-complete'] else
            {
              href: 'po-report/community-infrastructure-upload',
              html: 'Upload'
            }
          ]
        }
      } if data['community-infrastructure-check'] == 'Yes',
      {
        key: {
          html: 'Is the community infrastructure levy formally adopted?'
        },
        value: {
          html: data['community-infrastructure-adopted'] or 'No'
        }
        if data['community-infrastructure-adopted-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/community-infrastructure-adopted?cya=true',
              html: 'Change'
            }
            if data['community-infrastructure-adopted-complete'] else
            {
              href: 'po-report/community-infrastructure-adopted',
              html: 'Answer'
            }
          ]
        }
      } if data['community-infrastructure-check'] == 'Yes',
      {
        key: {
          html: 'Community infrastructure levy formally adopted date'
        },
        value: {
          html: levyDate
        }
        if data['community-infrastructure-date-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/community-infrastructure-date?cya=true',
              html: 'Change'
            }
            if data['community-infrastructure-date-complete'] else
            {
              href: 'po-report/community-infrastructure-date',
              html: 'Answer'
            }
          ]
        }
      } if data['community-infrastructure-check'] == 'Yes',
      {
        key: {
          html: 'Do you have a local development order?'
        },
        value: {
          html: data['local-development-check'] or 'No'
        }
        if data['local-development-check-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/local-development-check?cya=true',
              html: 'Change'
            }
            if data['local-development-check-complete'] else
            {
              href: 'po-report/local-development-check',
              html: 'Answer'
            }
          ]
        }
      },
      {
        key: {
          html: 'Local development order'
        },
        value: {
          html: data['local-development-upload'] or 'local_development.pdf'
        }
        if data['local-development-upload-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/local-development-upload?cya=true',
              html: 'Change'
            }
            if data['local-development-upload-complete'] else
            {
              href: 'po-report/local-development-upload',
              html: 'Upload'
            }
          ]
        }
      } if data['local-development-check'] == 'Yes',
      {
        key: {
          html: 'Did you previously grant any planning permission for this development?'
        },
        value: {
          html: data['planning-permission-check'] or 'No'
        }
        if data['planning-permission-check-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/planning-permission-check?cya=true',
              html: 'Change'
            }
            if data['planning-permission-check-complete'] else
            {
              href: 'po-report/planning-permission-check',
              html: 'Answer'
            }
          ]
        }
      },
      {
        key: {
          html: 'Upload planning permission and any other relevant documents'
        },
        value: {
          html: data['planning-permission-upload'] or 'planning_permission.pdf'
        }
        if data['planning-permission-upload-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/planning-permission-upload?cya=true',
              html: 'Change'
            }
            if data['planning-permission-upload-complete'] else
            {
              href: 'po-report/planning-permission-upload',
              html: 'Upload'
            }
          ]
        }
      } if data['planning-permission-check'] == 'Yes',
      {
        key: {
          html: 'Do you have your statement of case?'
        },
        value: {
          html: data['statement-of-case-check'] or 'No'
        }
        if data['statement-of-case-check-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/statement-of-case-check?cya=true',
              html: 'Change'
            }
            if data['statement-of-case-check-complete'] else
            {
              href: 'po-report/statement-of-case-check',
              html: 'Answer'
            }
          ]
        }
      },
      {
        key: {
          html: 'Statement of case'
        },
        value: {
          html: data['statement-of-case-upload'] or 'statement_of_case.pdf'
        }
        if data['statement-of-case-upload-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/statement-of-case-upload?cya=true',
              html: 'Change'
            }
            if data['statement-of-case-upload-complete'] else
            {
              href: 'po-report/statement-of-case-upload',
              html: 'Upload'
            }
          ]
        }
      } if data['statement-of-case-check'] == 'Yes',
      {
        key: {
          html: 'Was there an enforcement notice in force at the date of the application?'
        },
        value: {
          html: data['enforcement-notice-check'] or 'No'
        }
        if data['enforcement-notice-check-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/enforcement-notice-check?cya=true',
              html: 'Change'
            }
            if data['enforcement-notice-check-complete'] else
            {
              href: 'po-report/enforcement-notice-check',
              html: 'Answer'
            }
          ]
        }
      },
      {
        key: {
          html: 'Enforcement notice'
        },
        value: {
          html: data['enforcement-notice-upload'] or 'enforcement_notice.pdf'
        }
        if data['enforcement-notice-upload-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/enforcement-notice-upload?cya=true',
              html: 'Change'
            }
            if data['enforcement-notice-upload-complete'] else
            {
              href: 'po-report/enforcement-notice-upload',
              html: 'Upload'
            }
          ]
        }
      } if data['enforcement-notice-check'] == 'Yes',
      {
        key: {
          html: 'Enforcement notice plan'
        },
        value: {
          html: data['enforcement-plan-upload'] or 'enforcement_plan.pdf'
        }
        if data['enforcement-plan-upload-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/enforcement-plan-upload?cya=true',
              html: 'Change'
            }
            if data['enforcement-plan-upload-complete'] else
            {
              href: 'po-report/enforcement-plan-upload',
              html: 'Upload'
            }
          ]
        }
      } if data['enforcement-notice-check'] == 'Yes',
      {
        key: {
          html: 'Did you serve a planning contravention notice?'
        },
        value: {
          html: data['contravention-notice-check'] or 'No'
        }
        if data['contravention-notice-check-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/contravention-notice-check?cya=true',
              html: 'Change'
            }
            if data['contravention-notice-check-complete'] else
            {
              href: 'po-report/contravention-notice-check',
              html: 'Answer'
            }
          ]
        }
      },
      {
        key: {
          html: 'Planning contravention notice'
        },
        value: {
          html: data['contravention-notice-upload'] or 'contravention_notice.pdf'
        }
        if data['contravention-notice-upload-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/contravention-notice-upload?cya=true',
              html: 'Change'
            }
            if data['contravention-notice-upload-complete'] else
            {
              href: 'po-report/contravention-notice-upload',
              html: 'Upload'
            }
          ]
        }
      } if data['contravention-notice-check'] == 'Yes',
      {
        key: {
          html: 'Will you carry out a consultation for potential planning permission?'
        },
        value: {
          html: data['planning-permission-consultation'] + ': ' + data['consultees__details'] or 'No'
        }
        if data['planning-permission-consultation-complete'] else
        {
          html: '<span class="govuk-hint">Not started</span>'
        },
        actions: {
          items: [
            {
              href: 'po-report/planning-permission-consultation?cya=true',
              html: 'Change'
            }
            if data['planning-permission-consultation-complete'] else
            {
              href: 'po-report/planning-permission-consultation',
              html: 'Answer'
            }
          ]
        }
      }
    ]
  }) }}
</li>
