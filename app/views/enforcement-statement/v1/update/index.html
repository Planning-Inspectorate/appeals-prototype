{% extends "layout.html" %}

{% block beforeContent %}
  {{ govukBackLink({
    html: 'Back',
    href: '../your-appeals'
  }) }}
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-l">
        Update your appeal statement
      </h1>

      <p>You can revisit your appeal statement any number of times up to 6 weeks after your appeal start date.</p>

      <p class="govuk-!-margin-bottom-9">You can change your grounds of appeal (apart from ground A), and add other reasons, comments and documents to support your appeal.</p>
    </div>

    {% set grounds %}
      <ul class="govuk-list govuk-list--bullet">
      {% for ground in data['statement-grounds'] %}
        <li>{{ ground }}</li>
      {% endfor %}
      </ul>
    {% endset -%}

    <div class="govuk-grid-column-three-quarters-from-desktop">
      {{ govukSummaryList({
        classes: 'govuk-!-margin-bottom-0',
        rows: [
          {
            key: {
              text: 'Grounds of appeal'
            },
            value: {
              html: grounds
            },
            actions: {
              items: [
                {
                  href: 'grounds',
                  text: 'Change',
                  classes: 'govuk-link--no-visited-state'
                }
              ]
            }
          }
        ]
      }) }}
      {% if 'Ground A: Planning permission should be granted for the alleged breach in the enforcement notice.' in data['statement-grounds'] %}
      {{ govukSummaryList({
        classes: 'govuk-!-margin-bottom-0 long-answers',
        rows: [
          {
            key: {
              text: 'Reasons for Ground A'
            },
            value: {
              html: data['statement-ground-a'] | nl2br
            },
            actions: {
              items: [
                {
                  href: 'reasons-a',
                  text: 'Change',
                  classes: 'govuk-link--no-visited-state'
                }
              ]
            }
          }
        ]
      }) }}
      {% endif %}
      {% if 'Ground B: The alleged breach of planning permission has not happened.' in data['statement-grounds'] %}
      {{ govukSummaryList({
        classes: 'govuk-!-margin-bottom-0 long-answers',
        rows: [
          {
            key: {
              text: 'Reasons for Ground B'
            },
            value: {
              html: data['statement-ground-b'] | nl2br
            },
            actions: {
              items: [
                {
                  href: 'reasons-b',
                  text: 'Change',
                  classes: 'govuk-link--no-visited-state'
                }
              ]
            }
          }
        ]
      }) }}
      {% endif %}
      {% if 'Ground C: The alleged breach does not require planning permission.' in data['statement-grounds'] %}
      {{ govukSummaryList({
        classes: 'govuk-!-margin-bottom-0 long-answers',
        rows: [
          {
            key: {
              text: 'Reasons for Ground C'
            },
            value: {
              html: data['statement-ground-c'] | nl2br
            },
            actions: {
              items: [
                {
                  href: 'reasons-c',
                  text: 'Change',
                  classes: 'govuk-link--no-visited-state'
                }
              ]
            }
          }
        ]
      }) }}
      {% endif %}
      {% if 'Ground D: Itâ€™s too late for the local authority to serve the enforcement notice.' in data['statement-grounds'] %}
      {{ govukSummaryList({
        classes: 'govuk-!-margin-bottom-0 long-answers',
        rows: [
          {
            key: {
              text: 'Reasons for Ground D'
            },
            value: {
              html: data['statement-ground-d'] | nl2br
            },
            actions: {
              items: [
                {
                  href: 'reasons-d',
                  text: 'Change',
                  classes: 'govuk-link--no-visited-state'
                }
              ]
            }
          }
        ]
      }) }}
      {% endif %}
      {% if 'Ground E: Copies of the enforcement notice were not legally served to the right people.' in data['statement-grounds'] %}
      {{ govukSummaryList({
        classes: 'govuk-!-margin-bottom-0 long-answers',
        rows: [
          {
            key: {
              text: 'Reasons for Ground E'
            },
            value: {
              html: data['statement-ground-e'] | nl2br
            },
            actions: {
              items: [
                {
                  href: 'reasons-e',
                  text: 'Change',
                  classes: 'govuk-link--no-visited-state'
                }
              ]
            }
          }
        ]
      }) }}
      {% endif %}
      {% if 'Ground F: The steps to comply with the enforcement notice are excessive.' in data['statement-grounds'] %}
      {{ govukSummaryList({
        classes: 'govuk-!-margin-bottom-0 long-answers',
        rows: [
          {
            key: {
              text: 'Reasons for Ground F'
            },
            value: {
              html: data['statement-ground-f'] | nl2br
            },
            actions: {
              items: [
                {
                  href: 'reasons-f',
                  text: 'Change',
                  classes: 'govuk-link--no-visited-state'
                }
              ]
            }
          }
        ]
      }) }}
      {% endif %}
      {% if 'Ground G: I need more time to comply with the enforcement notice.' in data['statement-grounds'] %}
      {{ govukSummaryList({
        classes: 'govuk-!-margin-bottom-0 long-answers',
        rows: [
          {
            key: {
              text: 'Reasons for Ground G'
            },
            value: {
              html: data['statement-ground-g'] | nl2br
            },
            actions: {
              items: [
                {
                  href: 'reasons-g',
                  text: 'Change',
                  classes: 'govuk-link--no-visited-state'
                }
              ]
            }
          }
        ]
      }) }}
      {% endif %}

      {% set files %}
        {% if data['statement-supporting-docs'] %}
          <ul class="govuk-list govuk-list--bullet">
          {% for file in data['statement-supporting-docs'] %}
            <li>{{ file }}</li>
          {% endfor %}
          </ul>
        {% else %}
          <span class="govuk-hint">None</span>
        {% endif %}
      {% endset -%}
      {{ govukSummaryList({
        classes: 'govuk-!-margin-bottom-9',
        rows: [
          {
            key: {
              text: 'Supporting documents'
            },
            value: {
              html: files
            },
            actions: {
              items: [
                {
                  href: 'supporting-docs',
                  text: 'Change',
                  classes: 'govuk-link--no-visited-state'
                }
              ]
            }
          }
        ]
      }) }}


      <div class="govuk-button-group">
        {{ govukButton({
          text: 'Submit changes',
          href: 'confirmation'
        }) }}

        {{ govukButton({
          text: 'Save and come back later',
          href: '#0',
          classes: 'govuk-button--secondary'
        }) }}
      </div>

      <p><a class="delete-link" href="cancel">Cancel statement changes</a></p>

    </div>
  </div>
{% endblock %}

{% block pageScripts %}{% endblock %}