{% extends "layout.html" %}

{% block beforeContent %}
  {{ govukBackLink({
    html: 'Back',
    href: '../your-appeals'
  }) }}
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds-from-desktop">
      <h1 class="govuk-heading-l">
        Update your appeal statement
      </h1>

      <p>You can change your grounds of appeal (apart from ground A), and add other reasons, comments and documents to support your appeal.</p>

      {{ govukInsetText({
        html: 'Your deadline to make changes to your appeal statement is 11.59pm on Monday '+ 35 | daysInFuture
      }) }}

    </div>

    <div class="govuk-grid-column-three-quarters-from-desktop">

      {% set grounds %}
        <ul class="govuk-list govuk-list--bullet">
        {% for ground in data['statement-grounds'] %}
          <li>{{ ground }}</li>
        {% endfor %}
        </ul>
      {% endset -%}

      {{ govukSummaryList({
        classes: 'govuk-!-margin-bottom-0',
        rows: [
          {
            key: {
              text: 'Grounds of appeal'
            },
            value: {
              html: grounds
            },
            actions: {
              items: [
                {
                  href: 'grounds?cya=true',
                  text: 'Change'
                }
              ]
            }
          }
        ]
      }) }}





      {% for ground in data['statement-grounds'] %}
        {{ govukSummaryList({
          classes: 'long-answers govuk-!-margin-bottom-0',
          rows: [
            {
              key: {
                text: 'Reasons for ' + ground | truncate(8, true, "")
              },
              value: {
                html: data['statement-ground' + ground | truncate(8, true, "") | lower | replace("ground ", "-")] | nl2br
              },
              actions: {
                items: [
                  {
                    href: 'reasons' + ground | truncate(8, true, "") | lower | replace("ground ", "-") + '?cya=true',
                    text: 'Change'
                  }
                ]
              }
            }
          ]
        }) }}
      {% endfor %}





      {% set files %}
        <ul class="govuk-list govuk-list--bullet">

          {% for file in data['statement-supporting-docs'] %}
            <li>{{ file }}</li>
          {% endfor %}

        </ul>
      {% endset -%}

      {{ govukSummaryList({
        classes: 'govuk-!-margin-bottom-9',
        rows: [
          {
            key: {
              text: 'Add supporting documents'
            },
            value: {
              html: data['statement-supporting-check'] or 'No'
            },
            actions: {
              items: [
                {
                  href: 'supporting-check?cya=true',
                  text: 'Change'
                }
              ]
            }
          },
          {
            key: {
              text: 'Supporting documents'
            },
            value: {
              html: files
            },
            actions: {
              items: [
                {
                  href: 'supporting-upload?cya=true',
                  text: 'Change'
                }
              ]
            }
          } if data['statement-supporting-check'] == 'Yes'
        ]
      }) }}






      <div class="govuk-button-group">
        {{ govukButton({
          text: 'Submit changes',
          href: 'confirmation'
        }) }}

        {{ govukButton({
          text: 'Save and come back later',
          href: '#0',
          classes: 'govuk-button--secondary'
        }) }}
      </div>

      {# <p><a class="delete-link" href="cancel">Cancel statement changes</a></p> #}

    </div>
  </div>
{% endblock %}

{% block pageScripts %}{% endblock %}
